<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<script src="/socket.io/socket.io.js"></script>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
<style>
    body { margin: 0; background: transparent !important; overflow: hidden; font-family: sans-serif; }
    #box {
        position: absolute; bottom: 50px; left: 50px;
        color: white; font-size: 44px; font-weight: bold;
        background: rgba(0,0,0,0.6); padding: 15px 30px;
        border-radius: 15px; opacity: 0; transform: translateY(20px);
        transition: 0.4s; text-shadow: 2px 2px 4px #000;
        border-left: 10px solid #00f2ea;
    }
    .show { opacity: 1; transform: translateY(0); }
</style>
</head>
<body>
<div id="box"></div>
<script>
    const socket=io();
    const box=document.getElementById("box");
    let timer;
    socket.on("ev", e => {
        let m = "";
        if(e.t==="chat") m = `${e.u}: ${e.m}`;
        if(e.t==="follow") { m = `ðŸ‘¤ ${e.u} Follow!`; confetti({particleCount:40, origin:{y:0.8}}); }
        if(e.t==="gift") { m = `ðŸŽ ${e.u} Gift!`; confetti({particleCount:100, colors:['#ff0050','#00f2ea'], origin:{y:0.7}}); }
        if(m){
            box.innerText=m; box.classList.add("show");
            clearTimeout(timer); timer=setTimeout(()=>box.classList.remove("show"), 6000);
        }
    });
</script>
</body>
</html>
